plot(y=party4coefHouse, x=1:36,pch=20,col="green", ylab="", xlab="", axes=FALSE,
ylim=c(-.1, 0.4))
lines(party4coefHouse, col="green", lty=1, lwd=2)
title(ylab="Increases in copartisan agreement rates")
axis(1, at=0:36, lab=0:36)
title(xlab="Congress")
axis(2, las=1, at=c(-.10,-0.05,0,0.05,0.10,0.15,0.20,0.25,0.30,0.35, 0.4),cex.axis=0.8)
abline(h=0, col="gray", lty=2)
box()
##Republicans, removed random early one
points(y=party2coefHouse, x=1:36,pch=20, col="red")
lines(party2coefHouse, col="red", lty=1, lwd=2)
##Whigs?
points(y=party3coefHouse, x=1:36,pch=20, col="gold")
lines(party3coefHouse, col="gold", lty=1, lwd=2)
##Dems, I think
points(y=party1coefHouse, x=c(1:36),pch=20, col="blue")
lines(party1coefHouse,col="blue",lty=1, lwd=2)
##Independents, I think
points(y=party7coefHouse, x=c(1:36)-.15, uiw=1.96*party7seHouse,pch=20, col="purple")
lines(party7coefHouse, col="purple", lty=1, lwd=2)
par(mar=c(3.2,3,2,1), mfrow=c(1,1), mgp=c(2,.3,0), tck=-.01, cex=0.8)
plot(y=party4coefHouse, x=1:36,pch=20,col="green", ylab="", xlab="", axes=FALSE,
ylim=c(-.1, 0.4))
lines(party4coefHouse, col="green", lty=1, lwd=2)
title(ylab="Increases in copartisan agreement rates")
axis(1, at=0:36, lab=0:36)
title(xlab="Congress")
axis(2, las=1, at=c(-.10,-0.05,0,0.05,0.10,0.15,0.20,0.25,0.30,0.35, 0.4),cex.axis=0.8)
abline(h=0, col="gray", lty=2)
box()
##Republicans, removed random early one
points(y=party2coefHouse, x=1:36,pch=20, col="red")
lines(party2coefHouse, col="red", lty=1, lwd=2)
##Whigs?
points(y=party3coefHouse, x=1:36,pch=20, col="gold")
lines(party3coefHouse, col="gold", lty=1, lwd=2)
##Dems, I think
points(y=party1coefHouse, x=c(1:36),pch=20, col="blue")
lines(party1coefHouse,col="blue",lty=1, lwd=2)
##Independents, I think
points(y=party7coefHouse, x=c(1:36), uiw=1.96*party7seHouse,pch=20, col="purple")
lines(party7coefHouse, col="purple", lty=1, lwd=2)
par(mar=c(3.2,3,2,1), mfrow=c(1,1), mgp=c(2,.3,0), tck=-.01, cex=0.8)
plotCI(y=party4coefHouse, x=1:36, uiw=1.96*party4seHouse,pch=20,col="green", ylab="", xlab="", axes=FALSE,
ylim=c(-.1, 0.4))
#lines(party4coefHouse, col="green", lty=1, lwd=2)
title(ylab="Increases in copartisan agreement rates")
axis(1, at=0:36, lab=0:36)
title(xlab="Congress")
axis(2, las=1, at=c(-.10,-0.05,0,0.05,0.10,0.15,0.20,0.25,0.30,0.35, 0.4),cex.axis=0.8)
abline(h=0, col="gray", lty=2)
box()
##Republicans, removed random early one
plotCI(y=party2coefHouse, x=1:36, uiw=1.96*party2seHouse,pch=20, col="red", add=TRUE)
#lines(party2coefHouse, col="red", lty=1, lwd=2)
##Whigs?
plotCI(y=party3coefHouse, x=1:36, uiw=1.96*party3seHouse,pch=20, col="gold", add=TRUE)
#lines(party3coefHouse, col="yellow", lty=1, lwd=2)
##Dems, I think
plotCI(y=party1coefHouse, x=c(1:36)+.15, uiw=1.96*party1seHouse,pch=20, col="blue", add=TRUE)
#lines(party1coefHouse,col="blue",lty=1, lwd=2)
##Independents, I think
plotCI(y=party7coefHouse, x=c(1:36)-.15, uiw=1.96*party7seHouse,pch=20, col="purple", add=TRUE)
#lines(party7coefHouse, col="purple", lty=1, lwd=2)
runif(20)
sum(runif(20))
for i in 1:1000{
x<-sum(runif(20))
plot(x)
}
for(i in 1:1000){
x<-sum(runif(20))
plot(x)
}
x<-numeric(10)
x<-numeric(10)
for(i in 1:10){
x[i]<-sum(runif(20))
}
plot(x)
hist(x)
x<-numeric(1000)
for(i in 1:1000){
x[i]<-sum(runif(20))
}
hist(x)
plot(pnorm(1))
plot(density(pnorm(1)))
pnorm(1)
pnorm(1:100)
pnorm(0:1)
pnorm(-2:2)
plot(density(pnorm(-2:2)))
y<-range(-2,2, by=.1)
y
y<-range(from=-2,to=2, by=.1)
y
y<-range(from=-2,to=2, by=.01)
y
y<-seq(from=-2,to=2, by=.01)
y
plot(density(pnorm(-2:2)))
plot(density(pnorm(y)))
plot((pnorm(y)))
plot(pnorm(y))
plot(dnorm(y))
plot(dnorm(y), pch=20)
plot(dnorm(y), pch='.')
plot(dnorm(y), type="l")
hist(x)
lines(dnorm(y), type="l")
lines(dnorm(y), type="l", add=TRUE)
lines(dnorm(y), add=TRUE)
hist(x)
hist(x)
lines(dnorm(y))
hist(x)
hist(x)
lines(dnorm(y))
plot(dnorm(y), type="l")
hist(x,add=TRUE)
plot(dnorm(y), type="l")
hist(x,add=TRUE)
hist(x)
plot(dnorm(-2:2), type="l")
y<-seq(from=-2,to=2, by=.1)
plot(dnorm(y), type="l")
y<-seq(from=-2,to=2, by=.2)
plot(dnorm(y), type="l")
hist(x,add=TRUE)
hist(x)
y<-seq(from=-2,to=2, by=.2)
lines(dnorm(y), type="l")
hist(x, density=TRUE)
hist(x)
dnorm(y)
plot(dnorm(y), type="l")
plot(dnorm(y),x=6:15, type="l")
lenth(6:15)
length(6:15)
length(y)
length(seq(6:15,by=0.5))
length(seq(from=6,to=15,by=0.5))
length(seq(from=5,to=15,by=0.5))
plot(dnorm(y),x=seq(5:15,by=.5), type="l")
plot(dnorm(y),x=seq(from=5,to=15,by=.5), type="l")
plot(cnorm(y),x=seq(from=5,to=15,by=.5), type="l")
plot(dnorm(y),x=seq(from=5,to=15,by=.5), type="l")
plot(dnorm(y),x=seq(from=5,to=15,by=.5), type="l")
hist(x)
mean(x)
dnorm(y, mean=10)
plot(dnorm(y),x=seq(from=5,to=15,by=.5), type="l")
plot(dnorm(y, mean=10),x=seq(from=5,to=15,by=.5), type="l")
plot(dnorm(y, mean=10), type="l")
plot(dnorm(-100:100, mean=10))
plot(dnorm(-10:10, mean=10))
plot(dnorm(-10:50, mean=10))
plot(dnorm(-10:30, mean=10))
plot(dnorm(10:30, mean=10))
plot(dnorm(0:30, mean=10))
plot(dnorm(5:20, mean=10))
plot(dnorm(5:20, mean=10), x=5:20)
plot(dnorm(5:15, mean=10), x=5:20)
plot(dnorm(5:15, mean=10), x=5:15)
plot(dnorm(5:15, mean=10), x=5:15,type="l")
hist(x)
plot(density(qnorm(1000)))
qnorm(1000)
rnorm(1000)
plot(density(rnorm(1000)))
hist(x, freq=FALSE)
plot(dnorm(y, mean=10), type="l")
plot(dnorm(y), type="l")
hist(x, freq=FALSE)
lines(dnorm(y), type="l")
plot(dnorm(y), type="l")
hist(x, freq=FALSE, add=TRUE)
y<-seq(from=-2,to=2, by=.5)
plot(dnorm(y), type="l")
y<-seq(from=-2,to=2, by=.3)
plot(dnorm(y), type="l")
y<-seq(from=-2,to=2, by=.2)
plot(dnorm(y), type="l")
y<-seq(from=-2,to=2, by=.1)
plot(dnorm(y), type="l")
hist(x, freq=FALSE, add=TRUE)
y<-seq(from=5,to=15, by=.1)
plot(dnorm(y, mean=10), type="l")
length(y)
length(seq(5,15,.1))
plot(dnorm(y, mean=10),x=y, type="l")
hist(x, freq=FALSE, add=TRUE)
y<-seq(from=5,to=15, by=.2)
plot(dnorm(y, mean=10),x=y, type="l")
hist(x, freq=FALSE, add=TRUE)
x<-numeric(1000)
for(i in 1:1000){
x[i]<-sum(runif(20))
}
plot(dnorm(y, mean=10),x=y, type="l")
hist(x, freq=FALSE, add=TRUE)
x<-numeric(1000)
for(i in 1:1000){
x[i]<-sum(runif(20))
}
y<-seq(from=5,to=15, by=.2)
plot(dnorm(y, mean=10),x=y, type="l")
hist(x, freq=FALSE, add=TRUE)
var(x)
sqrt(var(x))
plot(dnorm(y, mean=10, sd=1.3),x=y, type="l")
hist(x, freq=FALSE, add=TRUE)
x<-numeric(5000)
for(i in 1:5000){
x[i]<-sum(runif(20))
}
sqrt(var(x))
y<-seq(from=5,to=15, by=.2)
plot(dnorm(y, mean=10, sd=1.3),x=y, type="l")
hist(x, freq=FALSE, add=TRUE)
x<-numeric(1000)
for(i in 1:1000){
x[i]<-sum(runif(20))
}
sqrt(var(x))
y<-seq(from=5,to=15, by=.2)
plot(dnorm(y, mean=10, sd=1.3),x=y, type="l")
hist(x, freq=FALSE, add=TRUE)
setwd("C:/Users/emily m/Documents/GitHub/TYP")
data<-read.csv("appointments.csv", stringsAsFactors=FALSE)
head(data)
""
table(data$Apt_type=="SC", data$Department)
data[data$Apt_type=="SC",]
data$Apt_type=="SC"
data$Apt_Type=="SC"
data[data$Apt_Type=="SC"],
data[data$Apt_Type=="SC",]
data[data$Apt_Type=="SC"]
sc.only<-data[data$Apt_Type=="SC",]
table(sc.only$Department)
table(sc.only$Apt_Type, sc.only$Department)
length(unique(data$Department))
colnames(data)
length(unique(data$Sub.Department))
length(unique(data$Sub.Sub.Department))
head(sc.only)
table(data$Apt_Type, data$Department)
data$Apt_Type
data[data$Apt_Type=="........"]
data[data$Apt_Type=="........",]
data$Apt_Type[data$Apt_Type=="........",]
data$Apt_Type[data$Apt_Type=="........"]
data$Apt_Type[data$Apt_Type=="........"]<-NA
data$Apt_Type
data[5418,]
table(data$Apt_Type, data$Department)
table(data$Department, data$Apt_Type)
apply(table(data$Department, data$Apt_Type),1,sum)
table(data$Department, data$Apt_Type)
table(apply(table(data$Department, data$Apt_Type),1,sum),data$Apt_Type=="SC")
(apply(table(data$Department, data$Apt_Type),1,sum)
)
apt.num<-(apply(table(data$Department, data$Apt_Type),1,sum))
apt.table<-table(data$Department, data$Apt_Type)
colnames(apt.table)
apt.table$SC/apt.num<-(apply(apt.table,1,sum))
apt.table[,33]/apt.num<-(apply(apt.table,1,sum))
apt.table[,33]/apt.num<-(apply(apt.table,1,sum))
apt.table[,33]/apt.num
sort(apt.table[,33]/apt.num)
t(sort(apt.table[,33]/apt.num))
percentage.apt<-(sort(apt.table[,33]/apt.num))
apt.num[apt.num>5]
length(apt.num[apt.num<5])
length(apt.num[apt.num>5])
length(apt.num[apt.num>=5])
un<-unique(data$Department)
data$Department[un[1]]
data$Department[data$Department==un[1]]
data$Department[data$Department==un[10]]
data[data$Department==un[1]]
data[data$Department==un[1],]
data[data$Department==un[2],]
num<-data[data$Department==un[2],]
num$Apt_Type=="SC"
sum(num$Apt_Type=="SC")
sum(num$Apt_Type=="SC")/length(num)
perc<-numeric()
for(i in length(unique(data$Department))){
un<-unique(data$Department)
num<-data[data$Department==un[i],]
perc[i]<-sum(num$Apt_Type=="SC")/length(num)
cbind(perc, un)
}
head(perc)
perc<-numeric()
un<-unique(data$Department)
for(i in length(unique(data$Department))){
num<-data[data$Department==un[i],]
perc[i]<-sum(num$Apt_Type=="SC")/length(num)
}
head(perc)
head(perc,100)
remove(num)
i=1
num<-data[data$Department==un[i],]
nrow(data)
remove(i)
perc<-numeric()
un<-unique(data$Department)
for(i in length(unique(data$Department))){
num<-data[data$Department==un[i],]
perc[i]<-sum(num$Apt_Type=="SC")/nrow(num)
}
i=2
num<-data[data$Department==un[i],]
perc[1]<-sum(num$Apt_Type=="SC")/nrow(num)
i=1
num<-data[data$Department==un[i],]
perc[i]<-sum(num$Apt_Type=="SC")/nrow(num)
i=2
num<-data[data$Department==un[i],]
perc[i]<-sum(num$Apt_Type=="SC")/nrow(num)
num<-data[data$Department==un[i],]
perc[i]<-sum(num$Apt_Type=="SC")/nrow(num)
perc[10]
perc[1]
perc[1:15]
i=10
num<-data[data$Department==un[i],]
perc[i]<-sum(num$Apt_Type=="SC")/nrow(num)
perc[1:15]
perc[i]<-sum(num$Apt_Type=="SC")/nrow(num)
perc[1:15]
perc[3]<-sum(num$Apt_Type=="SC")/nrow(num)
perc[1:15]
data$Apt_Type[data$Apt_Type==NA]<-"Not Listed"
num<-data[data$Department==un[i],]
perc[3]<-sum(num$Apt_Type=="SC")/nrow(num)
perc[3]
num$Apt_Type=="SC"
sum(num$Apt_Type=="SC")
data$Apt_Type[data$Apt_Type==NA]
data$Apt_Type[data$Apt_Type==NA]<-"Not Listed"
data$Apt_Type[data$Apt_Type==NA]
length(data$Apt_Type[data$Apt_Type==NA])
data$Apt_Type
head(data)
head(data$Apt_Type)
data$Apt_Type==NA
data$Apt_Type
data<-read.csv("appointments.csv", stringsAsFactors=FALSE)
data$Apt_Type[data$Apt_Type=="........"]
data[1,]
data[1,7]
data[100,7]
table(data$Apt_Type)
remove(i)
perc<-numeric()
un<-unique(data$Department)
for(i in length(un)){
num<-data[data$Department==un[i],]
perc[3]<-sum(num$Apt_Type=="SC")/nrow(num)
}
perc<-numeric()
un<-unique(data$Department)
for(i in length(un)){
num<-data[data$Department==un[i],]
perc[i]<-sum(num$Apt_Type=="SC")/nrow(num)
}
perc<-numeric()
un<-unique(data$Department)
for(i in length(un)){
num<-data[data$Department==un[i],]
perc[i]<-sum(num[,7]=="SC")/nrow(num)
}
num<-data[data$Department==un[i],]
remove(i)
perc<-numeric()
un<-unique(data$Department)
for(i in length(un)){
num<-data[data$Department==un[i],]
perc[i]<-sum(num[,7]=="SC")/nrow(num)
}
num1<-data[data$Department==un[10],]
num[,7=="SC"]
num
num$Apt_Type
num1$Apt_Type
num1$Apt_Type=="SC"
sum(num1$Apt_Type=="SC")
sum((num1$Apt_Type=="SC")==TRUE)
(num1$Apt_Type=="SC")==TRUE
!is.na((num1$Apt_Type=="SC"))
num1$Apt_Type
num1[3,]
data$Apt_Type==NA
is.na(data$Apt_Type)
sum(is.na(data$Apt_Type))
is.na(data$Apt_Type[data$Apt_Type])
data$Apt_Type[is.na(data$Apt_Type)]
data$Apt_Type[is.na(data$Apt_Type)]<-"Not Listed"
perc<-numeric()
un<-unique(data$Department)
for(i in length(un)){
num<-data[data$Department==un[i],]
perc[i]<-sum(num[,7]=="SC")/nrow(num)
}
num<-data[data$Department==un[1],]
perc[1]<-sum(num[,7]=="SC")/nrow(num)
num<-data[data$Department==un[2],]
perc[2]<-sum(num[,7]=="SC")/nrow(num)
num<-data[data$Department==un[3],]
perc[3]<-sum(num[,7]=="SC")/nrow(num)
num<-data[data$Department==un[4],]
perc[4]<-sum(num[,7]=="SC")/nrow(num)
num<-data[data$Department==un[5],]
perc[5]<-sum(num[,7]=="SC")/nrow(num)
num<-data[data$Department==un[6],]
perc[6]<-sum(num[,7]=="SC")/nrow(num)
head(perc,6)
myfun(i){
num<-data[data$Department==un[i],]
perc<-sum(num[,7]=="SC")/nrow(num)
return(perc)
}
myfun<-function(i){
num<-data[data$Department==un[i],]
perc<-sum(num[,7]=="SC")/nrow(num)
return(perc)
}
lapply(1:158, myfun)
library(plyr)
llply(1:158, myfun)
laply(1:158, myfun)
percs<-laply(1:158, myfun)
names.percs<-cbind(un, percs)
names.percs
names.percs<-data.frame(name=un, percentage=percs)
names.percs
sort.list(names.percs)
order(names.percs)
names.percs[order(names.percs)]
names.percs[order(names.percs),]
sort(names.percs$percentage)
order(names.percs$percentage)
names.percs[order(names.percs$percentage),]
names.percs<-names.percs[order(names.percs$percentage),]
names.percs
data$dep.subdep<-paste(data$Department,data$Sub.Department, sep=":")
data$dep.subdep
perc.sub<-numeric()
un.sub<-unique(data$dep.subdep)
myfun.sub<-function(i){
num<-data[data$dep.subdep==un.sub[i],]
perc<-sum(num[,7]=="SC")/nrow(num)
return(perc)
}
percs.sub<-laply(1:158, myfun.sub)
names.percs.sub<-data.frame(name=un.sub, percentage=percs.sub)
names.percs.sub<-names.percs.sub[order(names.percs.sub$percentage),]
percs.sub<-laply(1:158, myfun.sub)
names.percs.sub<-data.frame(name=un.sub, percentage=percs.sub)
percs.sub<-laply(1:length(un.sub), myfun.sub)
names.percs.sub<-data.frame(name=un.sub, percentage=percs.sub)
names.percs.sub<-names.percs.sub[order(names.percs.sub$percentage),]
names.percs.sub
head(names.percs.sub)
tail(names.percs.sub)
tail(names.percs.sub,100)
names.percs.sub[91,]
names.percs.sub[99]
names.percs.sub[99,]
names.percs.sub[90,]
tail(names.percs.sub,100)
names.percs.sub[350]
names.percs.sub[350,]
names.percs.sub[500,]
names.percs.sub[550,]
names.percs.sub[500:554,]
names.percs.sub[names.percs.sub$percentage>0]
names.percs.sub[names.percs.sub$percentage>0,]
length(names.percs.sub[names.percs.sub$percentage>0,])
nrow(names.percs.sub[names.percs.sub$percentage>0,])
nrow(names.percs.sub[names.percs.sub$percentage==0,])
nrow(names.percs.sub[names.percs.sub$percentage==1,])
nrow(names.percs.sub[names.percs.sub$percentage>=.5,])
nrow(names.percs[names.percs$percentage>0,])
nrow(names.percs[names.percs$percentage==1,])
nrow(names.percs[names.percs$percentage>=.5,])
tail(names.percs,51)
tail(names.percs.sub,51)
grep("INTERGOVERNMENTAL", names.percs.sub$name)
grep("LEGISLATIVE", names.percs.sub$name)
grep("PUBLIC", names.percs.sub$name)
!grep("PUBLIC", names.percs.sub$name)
tail(names.percs.sub[!grep("PUBLIC", names.percs.sub$name,])
tail(names.percs.sub[!grep("PUBLIC", names.percs.sub$name),])
!grep("PUBLIC", names.percs.sub$name)
tail(names.percs.sub[grep("PUBLIC", names.percs.sub$name),])
tail(names.percs.sub[!grep("PUBLIC", names.percs.sub$name),])
tail(names.percs.sub[-(grep("PUBLIC", names.percs.sub$name)),])
tail(names.percs.sub[-(grep("PUBLIC", names.percs.sub$name)),],50)
tail(names.percs.sub[-(grep("PUBLIC", names.percs.sub$name)),],30)
tail(names.percs.sub[-c(grep("PUBLIC", names.percs.sub$name),grep("LEGISLATIVE", names.percs.sub$name),
grep("INTERGOVERNMENTAL", names.percs.sub$name)),],30)
tail(names.percs.sub[-c(grep("PUBLIC", names.percs.sub$name),grep("LEGISLATIVE", names.percs.sub$name),
grep("INTERGOVERNMENTAL", names.percs.sub$name),
grep("CONGRESSIONAL", names.percs.sub$name)),],30)
